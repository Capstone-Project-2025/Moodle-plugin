{"version":3,"file":"codemirror_loader.min.js","sources":["../src/codemirror_loader.js"],"sourcesContent":["/* global CodeMirror */\ndefine([], function() {\n    return {\n        init: function(editorId, initialLanguage, initialTheme, toggleBtnId, languageSelectId) {\n            const langMap = {\n                'python2': 'python',\n                'python3': 'python',\n                'c': 'text/x-csrc',\n                'c11': 'text/x-csrc',\n                'c++03': 'text/x-c++src',\n                'c++11': 'text/x-c++src',\n                'c++14': 'text/x-c++src',\n                'c++17': 'text/x-c++src',\n                'c++20': 'text/x-c++src',\n                'java8': 'text/x-java',\n                'java': 'text/x-java',\n                'pascal': 'pascal',\n                'perl': 'perl',\n                'awk': 'awk',\n                'brainfuck': 'brainfuck',\n                'assemblyx86': 'gas',\n                'Assembly (x64)': 'gas',\n                'sed': 'shell',\n                'text': 'text/plain',\n                'default': 'text/plain'\n            };\n\n            const textarea = document.getElementById(editorId);\n            if (!textarea || typeof CodeMirror === 'undefined') {\n                return;\n            }\n\n            let currentTheme = initialTheme || 'material-darker';\n            let cleanedLanguage = initialLanguage?.toLowerCase().replace(/\\s+/g, '').replace(/\\+\\+/g, 'pp');\n            const mode = langMap[cleanedLanguage] || langMap['default'];\n\n            const editor = CodeMirror.fromTextArea(textarea, {\n                mode: mode,\n                theme: currentTheme,\n                lineNumbers: true,\n                indentUnit: 4,\n                tabSize: 4,\n                indentWithTabs: false,\n                matchBrackets: true,\n                autoCloseBrackets: true,\n                lineWrapping: true\n            });\n\n            // üé® Toggle theme\n            if (toggleBtnId) {\n                const toggleBtn = document.getElementById(toggleBtnId);\n                if (toggleBtn) {\n                    toggleBtn.addEventListener('click', () => {\n                        currentTheme = (currentTheme === 'eclipse') ? 'material-darker' : 'eclipse';\n                        editor.setOption('theme', currentTheme);\n                    });\n                }\n            }\n\n            // üåê Dynamically update language mode\n            if (languageSelectId) {\n                const select = document.getElementById(languageSelectId);\n                if (select) {\n                    select.addEventListener('change', function() {\n                        const selectedLang = this.options[this.selectedIndex].text.toLowerCase().replace(/\\s+/g, '');\n                        const newMode = langMap[selectedLang] || langMap['default'];\n                        editor.setOption('mode', newMode);\n                    });\n                }\n            }\n\n            // üì¶ Stocker dans window si besoin ailleurs\n            window['codemirrorEditor_' + editorId] = editor;\n\n            return editor;\n        }\n    };\n});\n"],"names":["define","init","editorId","initialLanguage","initialTheme","toggleBtnId","languageSelectId","langMap","textarea","document","getElementById","CodeMirror","currentTheme","cleanedLanguage","toLowerCase","replace","mode","editor","fromTextArea","theme","lineNumbers","indentUnit","tabSize","indentWithTabs","matchBrackets","autoCloseBrackets","lineWrapping","toggleBtn","addEventListener","setOption","select","selectedLang","this","options","selectedIndex","text","newMode","window"],"mappings":"AACAA,6CAAO,IAAI,iBACA,CACHC,KAAM,SAASC,SAAUC,gBAAiBC,aAAcC,YAAaC,sBAC3DC,QAAU,SACD,iBACA,WACN,kBACE,sBACE,wBACA,wBACA,wBACA,wBACA,sBACA,mBACD,qBACE,cACF,WACD,gBACM,wBACE,uBACG,UACX,aACC,qBACG,cAGTC,SAAWC,SAASC,eAAeR,aACpCM,UAAkC,oBAAfG,gBAIpBC,aAAeR,cAAgB,kBAC/BS,gBAAkBV,MAAAA,uBAAAA,gBAAiBW,cAAcC,QAAQ,OAAQ,IAAIA,QAAQ,QAAS,MACpFC,KAAOT,QAAQM,kBAAoBN,QAAO,QAE1CU,OAASN,WAAWO,aAAaV,SAAU,CAC7CQ,KAAMA,KACNG,MAAOP,aACPQ,aAAa,EACbC,WAAY,EACZC,QAAS,EACTC,gBAAgB,EAChBC,eAAe,EACfC,mBAAmB,EACnBC,cAAc,OAIdrB,YAAa,KACPsB,UAAYlB,SAASC,eAAeL,aACtCsB,WACAA,UAAUC,iBAAiB,SAAS,WAChChB,aAAiC,YAAjBA,aAA8B,kBAAoB,UAClEK,OAAOY,UAAU,QAASjB,oBAMlCN,iBAAkB,KACZwB,OAASrB,SAASC,eAAeJ,kBACnCwB,QACAA,OAAOF,iBAAiB,UAAU,eACxBG,aAAeC,KAAKC,QAAQD,KAAKE,eAAeC,KAAKrB,cAAcC,QAAQ,OAAQ,IACnFqB,QAAU7B,QAAQwB,eAAiBxB,QAAO,QAChDU,OAAOY,UAAU,OAAQO,mBAMrCC,OAAO,oBAAsBnC,UAAYe,OAElCA"}